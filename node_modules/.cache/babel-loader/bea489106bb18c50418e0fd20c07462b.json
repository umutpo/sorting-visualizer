{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Schemas } from '../../../base/common/network.js';\nimport { DataUri, basenameOrAuthority } from '../../../base/common/resources.js';\nimport { PLAINTEXT_MODE_ID } from '../modes/modesRegistry.js';\nimport { FileKind } from '../../../platform/files/common/files.js';\nexport function getIconClasses(modelService, modeService, resource, fileKind) {\n  // we always set these base classes even if we do not have a path\n  const classes = fileKind === FileKind.ROOT_FOLDER ? ['rootfolder-icon'] : fileKind === FileKind.FOLDER ? ['folder-icon'] : ['file-icon'];\n\n  if (resource) {\n    // Get the path and name of the resource. For data-URIs, we need to parse specially\n    let name;\n\n    if (resource.scheme === Schemas.data) {\n      const metadata = DataUri.parseMetaData(resource);\n      name = metadata.get(DataUri.META_DATA_LABEL);\n    } else {\n      name = cssEscape(basenameOrAuthority(resource).toLowerCase());\n    } // Folders\n\n\n    if (fileKind === FileKind.FOLDER) {\n      classes.push(`${name}-name-folder-icon`);\n    } // Files\n    else {\n      // Name & Extension(s)\n      if (name) {\n        classes.push(`${name}-name-file-icon`); // Avoid doing an explosive combination of extensions for very long filenames\n        // (most file systems do not allow files > 255 length) with lots of `.` characters\n        // https://github.com/microsoft/vscode/issues/116199\n\n        if (name.length <= 255) {\n          const dotSegments = name.split('.');\n\n          for (let i = 1; i < dotSegments.length; i++) {\n            classes.push(`${dotSegments.slice(i).join('.')}-ext-file-icon`); // add each combination of all found extensions if more than one\n          }\n        }\n\n        classes.push(`ext-file-icon`); // extra segment to increase file-ext score\n      } // Detected Mode\n\n\n      const detectedModeId = detectModeId(modelService, modeService, resource);\n\n      if (detectedModeId) {\n        classes.push(`${cssEscape(detectedModeId)}-lang-file-icon`);\n      }\n    }\n  }\n\n  return classes;\n}\n\nfunction detectModeId(modelService, modeService, resource) {\n  if (!resource) {\n    return null; // we need a resource at least\n  }\n\n  let modeId = null; // Data URI: check for encoded metadata\n\n  if (resource.scheme === Schemas.data) {\n    const metadata = DataUri.parseMetaData(resource);\n    const mime = metadata.get(DataUri.META_DATA_MIME);\n\n    if (mime) {\n      modeId = modeService.getModeId(mime);\n    }\n  } // Any other URI: check for model if existing\n  else {\n    const model = modelService.getModel(resource);\n\n    if (model) {\n      modeId = model.getLanguageId();\n    }\n  } // only take if the mode is specific (aka no just plain text)\n\n\n  if (modeId && modeId !== PLAINTEXT_MODE_ID) {\n    return modeId;\n  } // otherwise fallback to path based detection\n\n\n  return modeService.getModeIdByFilepathOrFirstLine(resource);\n}\n\nexport function cssEscape(str) {\n  return str.replace(/[\\11\\12\\14\\15\\40]/g, '/'); // HTML class names can not contain certain whitespace characters, use / instead, which doesn't exist in file names.\n}","map":{"version":3,"sources":["/home/umut/Documents/cs/cs410/Project2Group14/node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js"],"names":["Schemas","DataUri","basenameOrAuthority","PLAINTEXT_MODE_ID","FileKind","getIconClasses","modelService","modeService","resource","fileKind","classes","ROOT_FOLDER","FOLDER","name","scheme","data","metadata","parseMetaData","get","META_DATA_LABEL","cssEscape","toLowerCase","push","length","dotSegments","split","i","slice","join","detectedModeId","detectModeId","modeId","mime","META_DATA_MIME","getModeId","model","getModel","getLanguageId","getModeIdByFilepathOrFirstLine","str","replace"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Schemas } from '../../../base/common/network.js';\nimport { DataUri, basenameOrAuthority } from '../../../base/common/resources.js';\nimport { PLAINTEXT_MODE_ID } from '../modes/modesRegistry.js';\nimport { FileKind } from '../../../platform/files/common/files.js';\nexport function getIconClasses(modelService, modeService, resource, fileKind) {\n    // we always set these base classes even if we do not have a path\n    const classes = fileKind === FileKind.ROOT_FOLDER ? ['rootfolder-icon'] : fileKind === FileKind.FOLDER ? ['folder-icon'] : ['file-icon'];\n    if (resource) {\n        // Get the path and name of the resource. For data-URIs, we need to parse specially\n        let name;\n        if (resource.scheme === Schemas.data) {\n            const metadata = DataUri.parseMetaData(resource);\n            name = metadata.get(DataUri.META_DATA_LABEL);\n        }\n        else {\n            name = cssEscape(basenameOrAuthority(resource).toLowerCase());\n        }\n        // Folders\n        if (fileKind === FileKind.FOLDER) {\n            classes.push(`${name}-name-folder-icon`);\n        }\n        // Files\n        else {\n            // Name & Extension(s)\n            if (name) {\n                classes.push(`${name}-name-file-icon`);\n                // Avoid doing an explosive combination of extensions for very long filenames\n                // (most file systems do not allow files > 255 length) with lots of `.` characters\n                // https://github.com/microsoft/vscode/issues/116199\n                if (name.length <= 255) {\n                    const dotSegments = name.split('.');\n                    for (let i = 1; i < dotSegments.length; i++) {\n                        classes.push(`${dotSegments.slice(i).join('.')}-ext-file-icon`); // add each combination of all found extensions if more than one\n                    }\n                }\n                classes.push(`ext-file-icon`); // extra segment to increase file-ext score\n            }\n            // Detected Mode\n            const detectedModeId = detectModeId(modelService, modeService, resource);\n            if (detectedModeId) {\n                classes.push(`${cssEscape(detectedModeId)}-lang-file-icon`);\n            }\n        }\n    }\n    return classes;\n}\nfunction detectModeId(modelService, modeService, resource) {\n    if (!resource) {\n        return null; // we need a resource at least\n    }\n    let modeId = null;\n    // Data URI: check for encoded metadata\n    if (resource.scheme === Schemas.data) {\n        const metadata = DataUri.parseMetaData(resource);\n        const mime = metadata.get(DataUri.META_DATA_MIME);\n        if (mime) {\n            modeId = modeService.getModeId(mime);\n        }\n    }\n    // Any other URI: check for model if existing\n    else {\n        const model = modelService.getModel(resource);\n        if (model) {\n            modeId = model.getLanguageId();\n        }\n    }\n    // only take if the mode is specific (aka no just plain text)\n    if (modeId && modeId !== PLAINTEXT_MODE_ID) {\n        return modeId;\n    }\n    // otherwise fallback to path based detection\n    return modeService.getModeIdByFilepathOrFirstLine(resource);\n}\nexport function cssEscape(str) {\n    return str.replace(/[\\11\\12\\14\\15\\40]/g, '/'); // HTML class names can not contain certain whitespace characters, use / instead, which doesn't exist in file names.\n}\n"]},"metadata":{},"sourceType":"module"}