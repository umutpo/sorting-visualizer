{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport * as dom from '../../../browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\nimport { Action } from '../../../common/actions.js';\nimport { range } from '../../../common/arrays.js';\nimport { getCodiconAriaLabel } from '../../../common/codicons.js';\nimport { compareAnything } from '../../../common/comparers.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { matchesFuzzyIconAware, parseLabelWithIcons } from '../../../common/iconLabels.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { withNullAsUndefined } from '../../../common/types.js';\nimport { getIconClass } from './quickInputUtils.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\n\nclass ListElement {\n  constructor(init) {\n    this.hidden = false;\n    this._onChecked = new Emitter();\n    this.onChecked = this._onChecked.event;\n    Object.assign(this, init);\n  }\n\n  get checked() {\n    return !!this._checked;\n  }\n\n  set checked(value) {\n    if (value !== this._checked) {\n      this._checked = value;\n\n      this._onChecked.fire(value);\n    }\n  }\n\n  dispose() {\n    this._onChecked.dispose();\n  }\n\n}\n\nclass ListElementRenderer {\n  get templateId() {\n    return ListElementRenderer.ID;\n  }\n\n  renderTemplate(container) {\n    const data = Object.create(null);\n    data.toDisposeElement = [];\n    data.toDisposeTemplate = [];\n    data.entry = dom.append(container, $('.quick-input-list-entry')); // Checkbox\n\n    const label = dom.append(data.entry, $('label.quick-input-list-label'));\n    data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n      if (!data.checkbox.offsetParent) {\n        // If checkbox not visible:\n        e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n      }\n    }));\n    data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n    data.checkbox.type = 'checkbox';\n    data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n      data.element.checked = data.checkbox.checked;\n    })); // Rows\n\n    const rows = dom.append(label, $('.quick-input-list-rows'));\n    const row1 = dom.append(rows, $('.quick-input-list-row'));\n    const row2 = dom.append(rows, $('.quick-input-list-row')); // Label\n\n    data.label = new IconLabel(row1, {\n      supportHighlights: true,\n      supportDescriptionHighlights: true,\n      supportIcons: true\n    }); // Keybinding\n\n    const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n    data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS); // Detail\n\n    const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n    data.detail = new HighlightedLabel(detailContainer, true); // Separator\n\n    data.separator = dom.append(data.entry, $('.quick-input-list-separator')); // Actions\n\n    data.actionBar = new ActionBar(data.entry);\n    data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n    data.toDisposeTemplate.push(data.actionBar);\n    return data;\n  }\n\n  renderElement(element, index, data) {\n    data.toDisposeElement = dispose(data.toDisposeElement);\n    data.element = element;\n    data.checkbox.checked = element.checked;\n    data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n    const {\n      labelHighlights,\n      descriptionHighlights,\n      detailHighlights\n    } = element; // Label\n\n    const options = Object.create(null);\n    options.matches = labelHighlights || [];\n    options.descriptionTitle = element.saneDescription;\n    options.descriptionMatches = descriptionHighlights || [];\n    options.extraClasses = element.item.iconClasses;\n    options.italic = element.item.italic;\n    options.strikethrough = element.item.strikethrough;\n    data.label.setLabel(element.saneLabel, element.saneDescription, options); // Keybinding\n\n    data.keybinding.set(element.item.keybinding); // Meta\n\n    data.detail.set(element.saneDetail, detailHighlights); // Separator\n\n    if (element.separator && element.separator.label) {\n      data.separator.textContent = element.separator.label;\n      data.separator.style.display = '';\n    } else {\n      data.separator.style.display = 'none';\n    }\n\n    data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator); // Actions\n\n    data.actionBar.clear();\n    const buttons = element.item.buttons;\n\n    if (buttons && buttons.length) {\n      data.actionBar.push(buttons.map((button, index) => {\n        let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n\n        if (button.alwaysVisible) {\n          cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n        }\n\n        const action = new Action(`id-${index}`, '', cssClasses, true, () => __awaiter(this, void 0, void 0, function* () {\n          element.fireButtonTriggered({\n            button,\n            item: element.item\n          });\n        }));\n        action.tooltip = button.tooltip || '';\n        return action;\n      }), {\n        icon: true,\n        label: false\n      });\n      data.entry.classList.add('has-actions');\n    } else {\n      data.entry.classList.remove('has-actions');\n    }\n  }\n\n  disposeElement(element, index, data) {\n    data.toDisposeElement = dispose(data.toDisposeElement);\n  }\n\n  disposeTemplate(data) {\n    data.toDisposeElement = dispose(data.toDisposeElement);\n    data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n  }\n\n}\n\nListElementRenderer.ID = 'listelement';\n\nclass ListElementDelegate {\n  getHeight(element) {\n    return element.saneDetail ? 44 : 22;\n  }\n\n  getTemplateId(element) {\n    return ListElementRenderer.ID;\n  }\n\n}\n\nexport var QuickInputListFocus;\n\n(function (QuickInputListFocus) {\n  QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n  QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n  QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n  QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n  QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n  QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n  QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\n\nexport class QuickInputList {\n  constructor(parent, id, options) {\n    this.parent = parent;\n    this.inputElements = [];\n    this.elements = [];\n    this.elementsToIndexes = new Map();\n    this.matchOnDescription = false;\n    this.matchOnDetail = false;\n    this.matchOnLabel = true;\n    this.matchOnMeta = true;\n    this.sortByLabel = true;\n    this._onChangedAllVisibleChecked = new Emitter();\n    this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n    this._onChangedCheckedCount = new Emitter();\n    this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n    this._onChangedVisibleCount = new Emitter();\n    this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n    this._onChangedCheckedElements = new Emitter();\n    this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n    this._onButtonTriggered = new Emitter();\n    this.onButtonTriggered = this._onButtonTriggered.event;\n    this._onKeyDown = new Emitter();\n    this.onKeyDown = this._onKeyDown.event;\n    this._onLeave = new Emitter();\n    this.onLeave = this._onLeave.event;\n    this._fireCheckedEvents = true;\n    this.elementDisposables = [];\n    this.disposables = [];\n    this.id = id;\n    this.container = dom.append(this.parent, $('.quick-input-list'));\n    const delegate = new ListElementDelegate();\n    const accessibilityProvider = new QuickInputAccessibilityProvider();\n    this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\n      identityProvider: {\n        getId: element => element.saneLabel\n      },\n      setRowLineHeight: false,\n      multipleSelectionSupport: false,\n      horizontalScrolling: false,\n      accessibilityProvider\n    });\n    this.list.getHTMLElement().id = id;\n    this.disposables.push(this.list);\n    this.disposables.push(this.list.onKeyDown(e => {\n      const event = new StandardKeyboardEvent(e);\n\n      switch (event.keyCode) {\n        case 10\n        /* Space */\n        :\n          this.toggleCheckbox();\n          break;\n\n        case 31\n        /* KeyA */\n        :\n          if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n            this.list.setFocus(range(this.list.length));\n          }\n\n          break;\n\n        case 16\n        /* UpArrow */\n        :\n          const focus1 = this.list.getFocus();\n\n          if (focus1.length === 1 && focus1[0] === 0) {\n            this._onLeave.fire();\n          }\n\n          break;\n\n        case 18\n        /* DownArrow */\n        :\n          const focus2 = this.list.getFocus();\n\n          if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n            this._onLeave.fire();\n          }\n\n          break;\n      }\n\n      this._onKeyDown.fire(event);\n    }));\n    this.disposables.push(this.list.onMouseDown(e => {\n      if (e.browserEvent.button !== 2) {\n        // Works around / fixes #64350.\n        e.browserEvent.preventDefault();\n      }\n    }));\n    this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n      if (e.x || e.y) {\n        // Avoid 'click' triggered by 'space' on checkbox.\n        this._onLeave.fire();\n      }\n    }));\n    this.disposables.push(this.list.onMouseMiddleClick(e => {\n      this._onLeave.fire();\n    }));\n    this.disposables.push(this.list.onContextMenu(e => {\n      if (typeof e.index === 'number') {\n        e.browserEvent.preventDefault(); // we want to treat a context menu event as\n        // a gesture to open the item at the index\n        // since we do not have any context menu\n        // this enables for example macOS to Ctrl-\n        // click on an item to open it.\n\n        this.list.setSelection([e.index]);\n      }\n    }));\n    this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onLeave, this._onKeyDown);\n  }\n\n  get onDidChangeFocus() {\n    return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n  }\n\n  get onDidChangeSelection() {\n    return Event.map(this.list.onDidChangeSelection, e => ({\n      items: e.elements.map(e => e.item),\n      event: e.browserEvent\n    }));\n  }\n\n  get scrollTop() {\n    return this.list.scrollTop;\n  }\n\n  set scrollTop(scrollTop) {\n    this.list.scrollTop = scrollTop;\n  }\n\n  getAllVisibleChecked() {\n    return this.allVisibleChecked(this.elements, false);\n  }\n\n  allVisibleChecked(elements) {\n    let whenNoneVisible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    for (let i = 0, n = elements.length; i < n; i++) {\n      const element = elements[i];\n\n      if (!element.hidden) {\n        if (!element.checked) {\n          return false;\n        } else {\n          whenNoneVisible = true;\n        }\n      }\n    }\n\n    return whenNoneVisible;\n  }\n\n  getCheckedCount() {\n    let count = 0;\n    const elements = this.elements;\n\n    for (let i = 0, n = elements.length; i < n; i++) {\n      if (elements[i].checked) {\n        count++;\n      }\n    }\n\n    return count;\n  }\n\n  getVisibleCount() {\n    let count = 0;\n    const elements = this.elements;\n\n    for (let i = 0, n = elements.length; i < n; i++) {\n      if (!elements[i].hidden) {\n        count++;\n      }\n    }\n\n    return count;\n  }\n\n  setAllVisibleChecked(checked) {\n    try {\n      this._fireCheckedEvents = false;\n      this.elements.forEach(element => {\n        if (!element.hidden) {\n          element.checked = checked;\n        }\n      });\n    } finally {\n      this._fireCheckedEvents = true;\n      this.fireCheckedEvents();\n    }\n  }\n\n  setElements(inputElements) {\n    this.elementDisposables = dispose(this.elementDisposables);\n\n    const fireButtonTriggered = event => this.fireButtonTriggered(event);\n\n    this.inputElements = inputElements;\n    this.elements = inputElements.reduce((result, item, index) => {\n      var _a, _b, _c;\n\n      if (item.type !== 'separator') {\n        const previous = index && inputElements[index - 1];\n        const saneLabel = item.label && item.label.replace(/\\r?\\n/g, ' ');\n        const saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\n        const saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\n        const saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\n        const saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail].map(s => getCodiconAriaLabel(s)).filter(s => !!s).join(', ');\n        result.push(new ListElement({\n          index,\n          item,\n          saneLabel,\n          saneMeta,\n          saneAriaLabel,\n          saneDescription,\n          saneDetail,\n          labelHighlights: (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label,\n          descriptionHighlights: (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description,\n          detailHighlights: (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail,\n          checked: false,\n          separator: previous && previous.type === 'separator' ? previous : undefined,\n          fireButtonTriggered\n        }));\n      }\n\n      return result;\n    }, []);\n    this.elementDisposables.push(...this.elements);\n    this.elementDisposables.push(...this.elements.map(element => element.onChecked(() => this.fireCheckedEvents())));\n    this.elementsToIndexes = this.elements.reduce((map, element, index) => {\n      map.set(element.item, index);\n      return map;\n    }, new Map());\n    this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n\n    this.list.splice(0, this.list.length, this.elements);\n\n    this._onChangedVisibleCount.fire(this.elements.length);\n  }\n\n  getFocusedElements() {\n    return this.list.getFocusedElements().map(e => e.item);\n  }\n\n  setFocusedElements(items) {\n    this.list.setFocus(items.filter(item => this.elementsToIndexes.has(item)).map(item => this.elementsToIndexes.get(item)));\n\n    if (items.length > 0) {\n      const focused = this.list.getFocus()[0];\n\n      if (typeof focused === 'number') {\n        this.list.reveal(focused);\n      }\n    }\n  }\n\n  getActiveDescendant() {\n    return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n  }\n\n  setSelectedElements(items) {\n    this.list.setSelection(items.filter(item => this.elementsToIndexes.has(item)).map(item => this.elementsToIndexes.get(item)));\n  }\n\n  getCheckedElements() {\n    return this.elements.filter(e => e.checked).map(e => e.item);\n  }\n\n  setCheckedElements(items) {\n    try {\n      this._fireCheckedEvents = false;\n      const checked = new Set();\n\n      for (const item of items) {\n        checked.add(item);\n      }\n\n      for (const element of this.elements) {\n        element.checked = checked.has(element.item);\n      }\n    } finally {\n      this._fireCheckedEvents = true;\n      this.fireCheckedEvents();\n    }\n  }\n\n  set enabled(value) {\n    this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n  }\n\n  focus(what) {\n    if (!this.list.length) {\n      return;\n    }\n\n    if (what === QuickInputListFocus.Next && this.list.getFocus()[0] === this.list.length - 1) {\n      what = QuickInputListFocus.First;\n    }\n\n    if (what === QuickInputListFocus.Previous && this.list.getFocus()[0] === 0) {\n      what = QuickInputListFocus.Last;\n    }\n\n    if (what === QuickInputListFocus.Second && this.list.length < 2) {\n      what = QuickInputListFocus.First;\n    }\n\n    switch (what) {\n      case QuickInputListFocus.First:\n        this.list.focusFirst();\n        break;\n\n      case QuickInputListFocus.Second:\n        this.list.focusNth(1);\n        break;\n\n      case QuickInputListFocus.Last:\n        this.list.focusLast();\n        break;\n\n      case QuickInputListFocus.Next:\n        this.list.focusNext();\n        break;\n\n      case QuickInputListFocus.Previous:\n        this.list.focusPrevious();\n        break;\n\n      case QuickInputListFocus.NextPage:\n        this.list.focusNextPage();\n        break;\n\n      case QuickInputListFocus.PreviousPage:\n        this.list.focusPreviousPage();\n        break;\n    }\n\n    const focused = this.list.getFocus()[0];\n\n    if (typeof focused === 'number') {\n      this.list.reveal(focused);\n    }\n  }\n\n  clearFocus() {\n    this.list.setFocus([]);\n  }\n\n  domFocus() {\n    this.list.domFocus();\n  }\n\n  layout(maxHeight) {\n    this.list.getHTMLElement().style.maxHeight = maxHeight ? `calc(${Math.floor(maxHeight / 44) * 44}px)` : '';\n    this.list.layout();\n  }\n\n  filter(query) {\n    if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n      this.list.layout();\n      return false;\n    }\n\n    query = query.trim(); // Reset filtering\n\n    if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n      this.elements.forEach(element => {\n        element.labelHighlights = undefined;\n        element.descriptionHighlights = undefined;\n        element.detailHighlights = undefined;\n        element.hidden = false;\n        const previous = element.index && this.inputElements[element.index - 1];\n        element.separator = previous && previous.type === 'separator' ? previous : undefined;\n      });\n    } // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n    else {\n      let currentSeparator;\n      this.elements.forEach(element => {\n        const labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n        const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n        const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n        const metaHighlights = this.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\n\n        if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\n          element.labelHighlights = labelHighlights;\n          element.descriptionHighlights = descriptionHighlights;\n          element.detailHighlights = detailHighlights;\n          element.hidden = false;\n        } else {\n          element.labelHighlights = undefined;\n          element.descriptionHighlights = undefined;\n          element.detailHighlights = undefined;\n          element.hidden = !element.item.alwaysShow;\n        }\n\n        element.separator = undefined; // we can show the separator unless the list gets sorted by match\n\n        if (!this.sortByLabel) {\n          const previous = element.index && this.inputElements[element.index - 1];\n          currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n\n          if (currentSeparator && !element.hidden) {\n            element.separator = currentSeparator;\n            currentSeparator = undefined;\n          }\n        }\n      });\n    }\n\n    const shownElements = this.elements.filter(element => !element.hidden); // Sort by value\n\n    if (this.sortByLabel && query) {\n      const normalizedSearchValue = query.toLowerCase();\n      shownElements.sort((a, b) => {\n        return compareEntries(a, b, normalizedSearchValue);\n      });\n    }\n\n    this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n      map.set(element.item, index);\n      return map;\n    }, new Map());\n    this.list.splice(0, this.list.length, shownElements);\n    this.list.setFocus([]);\n    this.list.layout();\n\n    this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n\n    this._onChangedVisibleCount.fire(shownElements.length);\n\n    return true;\n  }\n\n  toggleCheckbox() {\n    try {\n      this._fireCheckedEvents = false;\n      const elements = this.list.getFocusedElements();\n      const allChecked = this.allVisibleChecked(elements);\n\n      for (const element of elements) {\n        element.checked = !allChecked;\n      }\n    } finally {\n      this._fireCheckedEvents = true;\n      this.fireCheckedEvents();\n    }\n  }\n\n  display(display) {\n    this.container.style.display = display ? '' : 'none';\n  }\n\n  isDisplayed() {\n    return this.container.style.display !== 'none';\n  }\n\n  dispose() {\n    this.elementDisposables = dispose(this.elementDisposables);\n    this.disposables = dispose(this.disposables);\n  }\n\n  fireCheckedEvents() {\n    if (this._fireCheckedEvents) {\n      this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n\n      this._onChangedCheckedCount.fire(this.getCheckedCount());\n\n      this._onChangedCheckedElements.fire(this.getCheckedElements());\n    }\n  }\n\n  fireButtonTriggered(event) {\n    this._onButtonTriggered.fire(event);\n  }\n\n  style(styles) {\n    this.list.style(styles);\n  }\n\n}\n\n__decorate([memoize], QuickInputList.prototype, \"onDidChangeFocus\", null);\n\n__decorate([memoize], QuickInputList.prototype, \"onDidChangeSelection\", null);\n\nfunction compareEntries(elementA, elementB, lookFor) {\n  const labelHighlightsA = elementA.labelHighlights || [];\n  const labelHighlightsB = elementB.labelHighlights || [];\n\n  if (labelHighlightsA.length && !labelHighlightsB.length) {\n    return -1;\n  }\n\n  if (!labelHighlightsA.length && labelHighlightsB.length) {\n    return 1;\n  }\n\n  if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n    return 0;\n  }\n\n  return compareAnything(elementA.saneLabel, elementB.saneLabel, lookFor);\n}\n\nclass QuickInputAccessibilityProvider {\n  getWidgetAriaLabel() {\n    return localize('quickInput', \"Quick Input\");\n  }\n\n  getAriaLabel(element) {\n    return element.saneAriaLabel;\n  }\n\n  getWidgetRole() {\n    return 'listbox';\n  }\n\n  getRole() {\n    return 'option';\n  }\n\n}","map":{"version":3,"sources":["/home/umut/Documents/cs/cs410/Project2Group14/node_modules/monaco-editor/esm/vs/base/parts/quickinput/browser/quickInputList.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","dom","StandardKeyboardEvent","ActionBar","HighlightedLabel","IconLabel","KeybindingLabel","Action","range","getCodiconAriaLabel","compareAnything","memoize","Emitter","Event","matchesFuzzyIconAware","parseLabelWithIcons","dispose","platform","withNullAsUndefined","getIconClass","localize","$","ListElement","constructor","init","hidden","_onChecked","onChecked","event","assign","checked","_checked","fire","ListElementRenderer","templateId","ID","renderTemplate","container","data","create","toDisposeElement","toDisposeTemplate","entry","append","label","push","addStandardDisposableListener","EventType","CLICK","checkbox","offsetParent","preventDefault","type","CHANGE","element","rows","row1","row2","supportHighlights","supportDescriptionHighlights","supportIcons","keybindingContainer","keybinding","OS","detailContainer","detail","separator","actionBar","domNode","classList","add","renderElement","index","labelHighlights","descriptionHighlights","detailHighlights","options","matches","descriptionTitle","saneDescription","descriptionMatches","extraClasses","item","iconClasses","italic","strikethrough","setLabel","saneLabel","set","saneDetail","textContent","style","display","toggle","clear","buttons","map","button","cssClasses","iconClass","iconPath","undefined","alwaysVisible","action","fireButtonTriggered","tooltip","icon","remove","disposeElement","disposeTemplate","ListElementDelegate","getHeight","getTemplateId","QuickInputListFocus","QuickInputList","parent","id","inputElements","elements","elementsToIndexes","Map","matchOnDescription","matchOnDetail","matchOnLabel","matchOnMeta","sortByLabel","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onKeyDown","onKeyDown","_onLeave","onLeave","_fireCheckedEvents","elementDisposables","disposables","delegate","accessibilityProvider","QuickInputAccessibilityProvider","list","createList","identityProvider","getId","setRowLineHeight","multipleSelectionSupport","horizontalScrolling","getHTMLElement","keyCode","toggleCheckbox","isMacintosh","metaKey","ctrlKey","setFocus","focus1","getFocus","focus2","onMouseDown","browserEvent","addDisposableListener","x","y","onMouseMiddleClick","onContextMenu","setSelection","onDidChangeFocus","onDidChangeSelection","items","scrollTop","getAllVisibleChecked","allVisibleChecked","whenNoneVisible","n","getCheckedCount","count","getVisibleCount","setAllVisibleChecked","forEach","fireCheckedEvents","setElements","reduce","_a","_b","_c","previous","replace","saneMeta","meta","description","saneAriaLabel","ariaLabel","s","filter","join","highlights","splice","getFocusedElements","setFocusedElements","has","get","focused","reveal","getActiveDescendant","getAttribute","setSelectedElements","getCheckedElements","setCheckedElements","Set","enabled","pointerEvents","focus","what","Next","First","Previous","Last","Second","focusFirst","focusNth","focusLast","focusNext","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","clearFocus","domFocus","layout","maxHeight","Math","floor","query","trim","currentSeparator","metaHighlights","alwaysShow","shownElements","normalizedSearchValue","toLowerCase","sort","a","b","compareEntries","allChecked","isDisplayed","styles","prototype","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB","getWidgetAriaLabel","getAriaLabel","getWidgetRole","getRole"],"mappings":"AAAA;AACA;AACA;AACA;AACA,IAAIA,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,UAAV,EAAsBC,MAAtB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAyC;AACnF,MAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,MAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQH,MAAR,GAAiBE,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGK,MAAM,CAACC,wBAAP,CAAgCR,MAAhC,EAAwCC,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,MAA2HO,CAA3H;AACA,MAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EL,CAAC,GAAGI,OAAO,CAACC,QAAR,CAAiBZ,UAAjB,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIU,CAAC,GAAGb,UAAU,CAACM,MAAX,GAAoB,CAAjC,EAAoCO,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD,IAAIH,CAAC,GAAGV,UAAU,CAACa,CAAD,CAAlB,EAAuBN,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACH,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACT,MAAD,EAASC,GAAT,EAAcK,CAAd,CAAT,GAA4BG,CAAC,CAACT,MAAD,EAASC,GAAT,CAA7C,KAA+DK,CAAnE;AAC7E,SAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAcC,MAAM,CAACM,cAAP,CAAsBb,MAAtB,EAA8BC,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,CALD;;AAMA,IAAIQ,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AACrF,WAASC,KAAT,CAAeC,KAAf,EAAsB;AAAE,WAAOA,KAAK,YAAYH,CAAjB,GAAqBG,KAArB,GAA6B,IAAIH,CAAJ,CAAM,UAAUI,OAAV,EAAmB;AAAEA,MAAAA,OAAO,CAACD,KAAD,CAAP;AAAiB,KAA5C,CAApC;AAAoF;;AAC5G,SAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;AACvD,aAASC,SAAT,CAAmBJ,KAAnB,EAA0B;AAAE,UAAI;AAAEK,QAAAA,IAAI,CAACP,SAAS,CAACQ,IAAV,CAAeN,KAAf,CAAD,CAAJ;AAA8B,OAApC,CAAqC,OAAOO,CAAP,EAAU;AAAEJ,QAAAA,MAAM,CAACI,CAAD,CAAN;AAAY;AAAE;;AAC3F,aAASC,QAAT,CAAkBR,KAAlB,EAAyB;AAAE,UAAI;AAAEK,QAAAA,IAAI,CAACP,SAAS,CAAC,OAAD,CAAT,CAAmBE,KAAnB,CAAD,CAAJ;AAAkC,OAAxC,CAAyC,OAAOO,CAAP,EAAU;AAAEJ,QAAAA,MAAM,CAACI,CAAD,CAAN;AAAY;AAAE;;AAC9F,aAASF,IAAT,CAAcI,MAAd,EAAsB;AAAEA,MAAAA,MAAM,CAACC,IAAP,GAAcT,OAAO,CAACQ,MAAM,CAACT,KAAR,CAArB,GAAsCD,KAAK,CAACU,MAAM,CAACT,KAAR,CAAL,CAAoBW,IAApB,CAAyBP,SAAzB,EAAoCI,QAApC,CAAtC;AAAsF;;AAC9GH,IAAAA,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ;AACH,GALM,CAAP;AAMH,CARD;;AASA,OAAO,KAAKO,GAAZ,MAAqB,yBAArB;AACA,SAASC,qBAAT,QAAsC,mCAAtC;AACA,SAASC,SAAT,QAA0B,4CAA1B;AACA,SAASC,gBAAT,QAAiC,0DAAjC;AACA,SAASC,SAAT,QAA0B,4CAA1B;AACA,SAASC,eAAT,QAAgC,wDAAhC;AACA,SAASC,MAAT,QAAuB,4BAAvB;AACA,SAASC,KAAT,QAAsB,2BAAtB;AACA,SAASC,mBAAT,QAAoC,6BAApC;AACA,SAASC,eAAT,QAAgC,8BAAhC;AACA,SAASC,OAAT,QAAwB,+BAAxB;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,0BAA/B;AACA,SAASC,qBAAT,EAAgCC,mBAAhC,QAA2D,+BAA3D;AACA,SAASC,OAAT,QAAwB,8BAAxB;AACA,OAAO,KAAKC,QAAZ,MAA0B,6BAA1B;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,OAAO,wBAAP;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,MAAMC,CAAC,GAAGpB,GAAG,CAACoB,CAAd;;AACA,MAAMC,WAAN,CAAkB;AACdC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,SAAKC,MAAL,GAAc,KAAd;AACA,SAAKC,UAAL,GAAkB,IAAId,OAAJ,EAAlB;AACA,SAAKe,SAAL,GAAiB,KAAKD,UAAL,CAAgBE,KAAjC;AACArD,IAAAA,MAAM,CAACsD,MAAP,CAAc,IAAd,EAAoBL,IAApB;AACH;;AACU,MAAPM,OAAO,GAAG;AACV,WAAO,CAAC,CAAC,KAAKC,QAAd;AACH;;AACU,MAAPD,OAAO,CAAC1C,KAAD,EAAQ;AACf,QAAIA,KAAK,KAAK,KAAK2C,QAAnB,EAA6B;AACzB,WAAKA,QAAL,GAAgB3C,KAAhB;;AACA,WAAKsC,UAAL,CAAgBM,IAAhB,CAAqB5C,KAArB;AACH;AACJ;;AACD4B,EAAAA,OAAO,GAAG;AACN,SAAKU,UAAL,CAAgBV,OAAhB;AACH;;AAlBa;;AAoBlB,MAAMiB,mBAAN,CAA0B;AACR,MAAVC,UAAU,GAAG;AACb,WAAOD,mBAAmB,CAACE,EAA3B;AACH;;AACDC,EAAAA,cAAc,CAACC,SAAD,EAAY;AACtB,UAAMC,IAAI,GAAG/D,MAAM,CAACgE,MAAP,CAAc,IAAd,CAAb;AACAD,IAAAA,IAAI,CAACE,gBAAL,GAAwB,EAAxB;AACAF,IAAAA,IAAI,CAACG,iBAAL,GAAyB,EAAzB;AACAH,IAAAA,IAAI,CAACI,KAAL,GAAazC,GAAG,CAAC0C,MAAJ,CAAWN,SAAX,EAAsBhB,CAAC,CAAC,yBAAD,CAAvB,CAAb,CAJsB,CAKtB;;AACA,UAAMuB,KAAK,GAAG3C,GAAG,CAAC0C,MAAJ,CAAWL,IAAI,CAACI,KAAhB,EAAuBrB,CAAC,CAAC,8BAAD,CAAxB,CAAd;AACAiB,IAAAA,IAAI,CAACG,iBAAL,CAAuBI,IAAvB,CAA4B5C,GAAG,CAAC6C,6BAAJ,CAAkCF,KAAlC,EAAyC3C,GAAG,CAAC8C,SAAJ,CAAcC,KAAvD,EAA8DrD,CAAC,IAAI;AAC3F,UAAI,CAAC2C,IAAI,CAACW,QAAL,CAAcC,YAAnB,EAAiC;AAAE;AAC/BvD,QAAAA,CAAC,CAACwD,cAAF,GAD6B,CACT;AACvB;AACJ,KAJ2B,CAA5B;AAKAb,IAAAA,IAAI,CAACW,QAAL,GAAgBhD,GAAG,CAAC0C,MAAJ,CAAWC,KAAX,EAAkBvB,CAAC,CAAC,iCAAD,CAAnB,CAAhB;AACAiB,IAAAA,IAAI,CAACW,QAAL,CAAcG,IAAd,GAAqB,UAArB;AACAd,IAAAA,IAAI,CAACG,iBAAL,CAAuBI,IAAvB,CAA4B5C,GAAG,CAAC6C,6BAAJ,CAAkCR,IAAI,CAACW,QAAvC,EAAiDhD,GAAG,CAAC8C,SAAJ,CAAcM,MAA/D,EAAuE1D,CAAC,IAAI;AACpG2C,MAAAA,IAAI,CAACgB,OAAL,CAAaxB,OAAb,GAAuBQ,IAAI,CAACW,QAAL,CAAcnB,OAArC;AACH,KAF2B,CAA5B,EAdsB,CAiBtB;;AACA,UAAMyB,IAAI,GAAGtD,GAAG,CAAC0C,MAAJ,CAAWC,KAAX,EAAkBvB,CAAC,CAAC,wBAAD,CAAnB,CAAb;AACA,UAAMmC,IAAI,GAAGvD,GAAG,CAAC0C,MAAJ,CAAWY,IAAX,EAAiBlC,CAAC,CAAC,uBAAD,CAAlB,CAAb;AACA,UAAMoC,IAAI,GAAGxD,GAAG,CAAC0C,MAAJ,CAAWY,IAAX,EAAiBlC,CAAC,CAAC,uBAAD,CAAlB,CAAb,CApBsB,CAqBtB;;AACAiB,IAAAA,IAAI,CAACM,KAAL,GAAa,IAAIvC,SAAJ,CAAcmD,IAAd,EAAoB;AAAEE,MAAAA,iBAAiB,EAAE,IAArB;AAA2BC,MAAAA,4BAA4B,EAAE,IAAzD;AAA+DC,MAAAA,YAAY,EAAE;AAA7E,KAApB,CAAb,CAtBsB,CAuBtB;;AACA,UAAMC,mBAAmB,GAAG5D,GAAG,CAAC0C,MAAJ,CAAWa,IAAX,EAAiBnC,CAAC,CAAC,oCAAD,CAAlB,CAA5B;AACAiB,IAAAA,IAAI,CAACwB,UAAL,GAAkB,IAAIxD,eAAJ,CAAoBuD,mBAApB,EAAyC5C,QAAQ,CAAC8C,EAAlD,CAAlB,CAzBsB,CA0BtB;;AACA,UAAMC,eAAe,GAAG/D,GAAG,CAAC0C,MAAJ,CAAWc,IAAX,EAAiBpC,CAAC,CAAC,8BAAD,CAAlB,CAAxB;AACAiB,IAAAA,IAAI,CAAC2B,MAAL,GAAc,IAAI7D,gBAAJ,CAAqB4D,eAArB,EAAsC,IAAtC,CAAd,CA5BsB,CA6BtB;;AACA1B,IAAAA,IAAI,CAAC4B,SAAL,GAAiBjE,GAAG,CAAC0C,MAAJ,CAAWL,IAAI,CAACI,KAAhB,EAAuBrB,CAAC,CAAC,6BAAD,CAAxB,CAAjB,CA9BsB,CA+BtB;;AACAiB,IAAAA,IAAI,CAAC6B,SAAL,GAAiB,IAAIhE,SAAJ,CAAcmC,IAAI,CAACI,KAAnB,CAAjB;AACAJ,IAAAA,IAAI,CAAC6B,SAAL,CAAeC,OAAf,CAAuBC,SAAvB,CAAiCC,GAAjC,CAAqC,mCAArC;AACAhC,IAAAA,IAAI,CAACG,iBAAL,CAAuBI,IAAvB,CAA4BP,IAAI,CAAC6B,SAAjC;AACA,WAAO7B,IAAP;AACH;;AACDiC,EAAAA,aAAa,CAACjB,OAAD,EAAUkB,KAAV,EAAiBlC,IAAjB,EAAuB;AAChCA,IAAAA,IAAI,CAACE,gBAAL,GAAwBxB,OAAO,CAACsB,IAAI,CAACE,gBAAN,CAA/B;AACAF,IAAAA,IAAI,CAACgB,OAAL,GAAeA,OAAf;AACAhB,IAAAA,IAAI,CAACW,QAAL,CAAcnB,OAAd,GAAwBwB,OAAO,CAACxB,OAAhC;AACAQ,IAAAA,IAAI,CAACE,gBAAL,CAAsBK,IAAtB,CAA2BS,OAAO,CAAC3B,SAAR,CAAkBG,OAAO,IAAIQ,IAAI,CAACW,QAAL,CAAcnB,OAAd,GAAwBA,OAArD,CAA3B;AACA,UAAM;AAAE2C,MAAAA,eAAF;AAAmBC,MAAAA,qBAAnB;AAA0CC,MAAAA;AAA1C,QAA+DrB,OAArE,CALgC,CAMhC;;AACA,UAAMsB,OAAO,GAAGrG,MAAM,CAACgE,MAAP,CAAc,IAAd,CAAhB;AACAqC,IAAAA,OAAO,CAACC,OAAR,GAAkBJ,eAAe,IAAI,EAArC;AACAG,IAAAA,OAAO,CAACE,gBAAR,GAA2BxB,OAAO,CAACyB,eAAnC;AACAH,IAAAA,OAAO,CAACI,kBAAR,GAA6BN,qBAAqB,IAAI,EAAtD;AACAE,IAAAA,OAAO,CAACK,YAAR,GAAuB3B,OAAO,CAAC4B,IAAR,CAAaC,WAApC;AACAP,IAAAA,OAAO,CAACQ,MAAR,GAAiB9B,OAAO,CAAC4B,IAAR,CAAaE,MAA9B;AACAR,IAAAA,OAAO,CAACS,aAAR,GAAwB/B,OAAO,CAAC4B,IAAR,CAAaG,aAArC;AACA/C,IAAAA,IAAI,CAACM,KAAL,CAAW0C,QAAX,CAAoBhC,OAAO,CAACiC,SAA5B,EAAuCjC,OAAO,CAACyB,eAA/C,EAAgEH,OAAhE,EAdgC,CAehC;;AACAtC,IAAAA,IAAI,CAACwB,UAAL,CAAgB0B,GAAhB,CAAoBlC,OAAO,CAAC4B,IAAR,CAAapB,UAAjC,EAhBgC,CAiBhC;;AACAxB,IAAAA,IAAI,CAAC2B,MAAL,CAAYuB,GAAZ,CAAgBlC,OAAO,CAACmC,UAAxB,EAAoCd,gBAApC,EAlBgC,CAmBhC;;AACA,QAAIrB,OAAO,CAACY,SAAR,IAAqBZ,OAAO,CAACY,SAAR,CAAkBtB,KAA3C,EAAkD;AAC9CN,MAAAA,IAAI,CAAC4B,SAAL,CAAewB,WAAf,GAA6BpC,OAAO,CAACY,SAAR,CAAkBtB,KAA/C;AACAN,MAAAA,IAAI,CAAC4B,SAAL,CAAeyB,KAAf,CAAqBC,OAArB,GAA+B,EAA/B;AACH,KAHD,MAIK;AACDtD,MAAAA,IAAI,CAAC4B,SAAL,CAAeyB,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACH;;AACDtD,IAAAA,IAAI,CAACI,KAAL,CAAW2B,SAAX,CAAqBwB,MAArB,CAA4B,mCAA5B,EAAiE,CAAC,CAACvC,OAAO,CAACY,SAA3E,EA3BgC,CA4BhC;;AACA5B,IAAAA,IAAI,CAAC6B,SAAL,CAAe2B,KAAf;AACA,UAAMC,OAAO,GAAGzC,OAAO,CAAC4B,IAAR,CAAaa,OAA7B;;AACA,QAAIA,OAAO,IAAIA,OAAO,CAAC1H,MAAvB,EAA+B;AAC3BiE,MAAAA,IAAI,CAAC6B,SAAL,CAAetB,IAAf,CAAoBkD,OAAO,CAACC,GAAR,CAAY,CAACC,MAAD,EAASzB,KAAT,KAAmB;AAC/C,YAAI0B,UAAU,GAAGD,MAAM,CAACE,SAAP,KAAqBF,MAAM,CAACG,QAAP,GAAkBjF,YAAY,CAAC8E,MAAM,CAACG,QAAR,CAA9B,GAAkDC,SAAvE,CAAjB;;AACA,YAAIJ,MAAM,CAACK,aAAX,EAA0B;AACtBJ,UAAAA,UAAU,GAAGA,UAAU,GAAI,GAAEA,UAAW,iBAAjB,GAAoC,gBAA3D;AACH;;AACD,cAAMK,MAAM,GAAG,IAAIhG,MAAJ,CAAY,MAAKiE,KAAM,EAAvB,EAA0B,EAA1B,EAA8B0B,UAA9B,EAA0C,IAA1C,EAAgD,MAAMpH,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;AAC9GwE,UAAAA,OAAO,CAACkD,mBAAR,CAA4B;AACxBP,YAAAA,MADwB;AAExBf,YAAAA,IAAI,EAAE5B,OAAO,CAAC4B;AAFU,WAA5B;AAIH,SAL6E,CAA/D,CAAf;AAMAqB,QAAAA,MAAM,CAACE,OAAP,GAAiBR,MAAM,CAACQ,OAAP,IAAkB,EAAnC;AACA,eAAOF,MAAP;AACH,OAbmB,CAApB,EAaI;AAAEG,QAAAA,IAAI,EAAE,IAAR;AAAc9D,QAAAA,KAAK,EAAE;AAArB,OAbJ;AAcAN,MAAAA,IAAI,CAACI,KAAL,CAAW2B,SAAX,CAAqBC,GAArB,CAAyB,aAAzB;AACH,KAhBD,MAiBK;AACDhC,MAAAA,IAAI,CAACI,KAAL,CAAW2B,SAAX,CAAqBsC,MAArB,CAA4B,aAA5B;AACH;AACJ;;AACDC,EAAAA,cAAc,CAACtD,OAAD,EAAUkB,KAAV,EAAiBlC,IAAjB,EAAuB;AACjCA,IAAAA,IAAI,CAACE,gBAAL,GAAwBxB,OAAO,CAACsB,IAAI,CAACE,gBAAN,CAA/B;AACH;;AACDqE,EAAAA,eAAe,CAACvE,IAAD,EAAO;AAClBA,IAAAA,IAAI,CAACE,gBAAL,GAAwBxB,OAAO,CAACsB,IAAI,CAACE,gBAAN,CAA/B;AACAF,IAAAA,IAAI,CAACG,iBAAL,GAAyBzB,OAAO,CAACsB,IAAI,CAACG,iBAAN,CAAhC;AACH;;AAnGqB;;AAqG1BR,mBAAmB,CAACE,EAApB,GAAyB,aAAzB;;AACA,MAAM2E,mBAAN,CAA0B;AACtBC,EAAAA,SAAS,CAACzD,OAAD,EAAU;AACf,WAAOA,OAAO,CAACmC,UAAR,GAAqB,EAArB,GAA0B,EAAjC;AACH;;AACDuB,EAAAA,aAAa,CAAC1D,OAAD,EAAU;AACnB,WAAOrB,mBAAmB,CAACE,EAA3B;AACH;;AANqB;;AAQ1B,OAAO,IAAI8E,mBAAJ;;AACP,CAAC,UAAUA,mBAAV,EAA+B;AAC5BA,EAAAA,mBAAmB,CAACA,mBAAmB,CAAC,OAAD,CAAnB,GAA+B,CAAhC,CAAnB,GAAwD,OAAxD;AACAA,EAAAA,mBAAmB,CAACA,mBAAmB,CAAC,QAAD,CAAnB,GAAgC,CAAjC,CAAnB,GAAyD,QAAzD;AACAA,EAAAA,mBAAmB,CAACA,mBAAmB,CAAC,MAAD,CAAnB,GAA8B,CAA/B,CAAnB,GAAuD,MAAvD;AACAA,EAAAA,mBAAmB,CAACA,mBAAmB,CAAC,MAAD,CAAnB,GAA8B,CAA/B,CAAnB,GAAuD,MAAvD;AACAA,EAAAA,mBAAmB,CAACA,mBAAmB,CAAC,UAAD,CAAnB,GAAkC,CAAnC,CAAnB,GAA2D,UAA3D;AACAA,EAAAA,mBAAmB,CAACA,mBAAmB,CAAC,UAAD,CAAnB,GAAkC,CAAnC,CAAnB,GAA2D,UAA3D;AACAA,EAAAA,mBAAmB,CAACA,mBAAmB,CAAC,cAAD,CAAnB,GAAsC,CAAvC,CAAnB,GAA+D,cAA/D;AACH,CARD,EAQGA,mBAAmB,KAAKA,mBAAmB,GAAG,EAA3B,CARtB;;AASA,OAAO,MAAMC,cAAN,CAAqB;AACxB3F,EAAAA,WAAW,CAAC4F,MAAD,EAASC,EAAT,EAAaxC,OAAb,EAAsB;AAC7B,SAAKuC,MAAL,GAAcA,MAAd;AACA,SAAKE,aAAL,GAAqB,EAArB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,iBAAL,GAAyB,IAAIC,GAAJ,EAAzB;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA,SAAKC,aAAL,GAAqB,KAArB;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,2BAAL,GAAmC,IAAIlH,OAAJ,EAAnC;AACA,SAAKmH,0BAAL,GAAkC,KAAKD,2BAAL,CAAiClG,KAAnE;AACA,SAAKoG,sBAAL,GAA8B,IAAIpH,OAAJ,EAA9B;AACA,SAAKqH,qBAAL,GAA6B,KAAKD,sBAAL,CAA4BpG,KAAzD;AACA,SAAKsG,sBAAL,GAA8B,IAAItH,OAAJ,EAA9B;AACA,SAAKuH,qBAAL,GAA6B,KAAKD,sBAAL,CAA4BtG,KAAzD;AACA,SAAKwG,yBAAL,GAAiC,IAAIxH,OAAJ,EAAjC;AACA,SAAKyH,wBAAL,GAAgC,KAAKD,yBAAL,CAA+BxG,KAA/D;AACA,SAAK0G,kBAAL,GAA0B,IAAI1H,OAAJ,EAA1B;AACA,SAAK2H,iBAAL,GAAyB,KAAKD,kBAAL,CAAwB1G,KAAjD;AACA,SAAK4G,UAAL,GAAkB,IAAI5H,OAAJ,EAAlB;AACA,SAAK6H,SAAL,GAAiB,KAAKD,UAAL,CAAgB5G,KAAjC;AACA,SAAK8G,QAAL,GAAgB,IAAI9H,OAAJ,EAAhB;AACA,SAAK+H,OAAL,GAAe,KAAKD,QAAL,CAAc9G,KAA7B;AACA,SAAKgH,kBAAL,GAA0B,IAA1B;AACA,SAAKC,kBAAL,GAA0B,EAA1B;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAK1B,EAAL,GAAUA,EAAV;AACA,SAAK/E,SAAL,GAAiBpC,GAAG,CAAC0C,MAAJ,CAAW,KAAKwE,MAAhB,EAAwB9F,CAAC,CAAC,mBAAD,CAAzB,CAAjB;AACA,UAAM0H,QAAQ,GAAG,IAAIjC,mBAAJ,EAAjB;AACA,UAAMkC,qBAAqB,GAAG,IAAIC,+BAAJ,EAA9B;AACA,SAAKC,IAAL,GAAYtE,OAAO,CAACuE,UAAR,CAAmB,YAAnB,EAAiC,KAAK9G,SAAtC,EAAiD0G,QAAjD,EAA2D,CAAC,IAAI9G,mBAAJ,EAAD,CAA3D,EAAwF;AAChGmH,MAAAA,gBAAgB,EAAE;AAAEC,QAAAA,KAAK,EAAE/F,OAAO,IAAIA,OAAO,CAACiC;AAA5B,OAD8E;AAEhG+D,MAAAA,gBAAgB,EAAE,KAF8E;AAGhGC,MAAAA,wBAAwB,EAAE,KAHsE;AAIhGC,MAAAA,mBAAmB,EAAE,KAJ2E;AAKhGR,MAAAA;AALgG,KAAxF,CAAZ;AAOA,SAAKE,IAAL,CAAUO,cAAV,GAA2BrC,EAA3B,GAAgCA,EAAhC;AACA,SAAK0B,WAAL,CAAiBjG,IAAjB,CAAsB,KAAKqG,IAA3B;AACA,SAAKJ,WAAL,CAAiBjG,IAAjB,CAAsB,KAAKqG,IAAL,CAAUT,SAAV,CAAoB9I,CAAC,IAAI;AAC3C,YAAMiC,KAAK,GAAG,IAAI1B,qBAAJ,CAA0BP,CAA1B,CAAd;;AACA,cAAQiC,KAAK,CAAC8H,OAAd;AACI,aAAK;AAAG;AAAR;AACI,eAAKC,cAAL;AACA;;AACJ,aAAK;AAAG;AAAR;AACI,cAAI1I,QAAQ,CAAC2I,WAAT,GAAuBjK,CAAC,CAACkK,OAAzB,GAAmClK,CAAC,CAACmK,OAAzC,EAAkD;AAC9C,iBAAKZ,IAAL,CAAUa,QAAV,CAAmBvJ,KAAK,CAAC,KAAK0I,IAAL,CAAU7K,MAAX,CAAxB;AACH;;AACD;;AACJ,aAAK;AAAG;AAAR;AACI,gBAAM2L,MAAM,GAAG,KAAKd,IAAL,CAAUe,QAAV,EAAf;;AACA,cAAID,MAAM,CAAC3L,MAAP,KAAkB,CAAlB,IAAuB2L,MAAM,CAAC,CAAD,CAAN,KAAc,CAAzC,EAA4C;AACxC,iBAAKtB,QAAL,CAAc1G,IAAd;AACH;;AACD;;AACJ,aAAK;AAAG;AAAR;AACI,gBAAMkI,MAAM,GAAG,KAAKhB,IAAL,CAAUe,QAAV,EAAf;;AACA,cAAIC,MAAM,CAAC7L,MAAP,KAAkB,CAAlB,IAAuB6L,MAAM,CAAC,CAAD,CAAN,KAAc,KAAKhB,IAAL,CAAU7K,MAAV,GAAmB,CAA5D,EAA+D;AAC3D,iBAAKqK,QAAL,CAAc1G,IAAd;AACH;;AACD;AApBR;;AAsBA,WAAKwG,UAAL,CAAgBxG,IAAhB,CAAqBJ,KAArB;AACH,KAzBqB,CAAtB;AA0BA,SAAKkH,WAAL,CAAiBjG,IAAjB,CAAsB,KAAKqG,IAAL,CAAUiB,WAAV,CAAsBxK,CAAC,IAAI;AAC7C,UAAIA,CAAC,CAACyK,YAAF,CAAenE,MAAf,KAA0B,CAA9B,EAAiC;AAC7B;AACAtG,QAAAA,CAAC,CAACyK,YAAF,CAAejH,cAAf;AACH;AACJ,KALqB,CAAtB;AAMA,SAAK2F,WAAL,CAAiBjG,IAAjB,CAAsB5C,GAAG,CAACoK,qBAAJ,CAA0B,KAAKhI,SAA/B,EAA0CpC,GAAG,CAAC8C,SAAJ,CAAcC,KAAxD,EAA+DrD,CAAC,IAAI;AACtF,UAAIA,CAAC,CAAC2K,CAAF,IAAO3K,CAAC,CAAC4K,CAAb,EAAgB;AAAE;AACd,aAAK7B,QAAL,CAAc1G,IAAd;AACH;AACJ,KAJqB,CAAtB;AAKA,SAAK8G,WAAL,CAAiBjG,IAAjB,CAAsB,KAAKqG,IAAL,CAAUsB,kBAAV,CAA6B7K,CAAC,IAAI;AACpD,WAAK+I,QAAL,CAAc1G,IAAd;AACH,KAFqB,CAAtB;AAGA,SAAK8G,WAAL,CAAiBjG,IAAjB,CAAsB,KAAKqG,IAAL,CAAUuB,aAAV,CAAwB9K,CAAC,IAAI;AAC/C,UAAI,OAAOA,CAAC,CAAC6E,KAAT,KAAmB,QAAvB,EAAiC;AAC7B7E,QAAAA,CAAC,CAACyK,YAAF,CAAejH,cAAf,GAD6B,CAE7B;AACA;AACA;AACA;AACA;;AACA,aAAK+F,IAAL,CAAUwB,YAAV,CAAuB,CAAC/K,CAAC,CAAC6E,KAAH,CAAvB;AACH;AACJ,KAVqB,CAAtB;AAWA,SAAKsE,WAAL,CAAiBjG,IAAjB,CAAsB,KAAKiF,2BAA3B,EAAwD,KAAKE,sBAA7D,EAAqF,KAAKE,sBAA1F,EAAkH,KAAKE,yBAAvH,EAAkJ,KAAKE,kBAAvJ,EAA2K,KAAKI,QAAhL,EAA0L,KAAKF,UAA/L;AACH;;AACmB,MAAhBmC,gBAAgB,GAAG;AACnB,WAAO9J,KAAK,CAACmF,GAAN,CAAU,KAAKkD,IAAL,CAAUyB,gBAApB,EAAsChL,CAAC,IAAIA,CAAC,CAAC2H,QAAF,CAAWtB,GAAX,CAAerG,CAAC,IAAIA,CAAC,CAACuF,IAAtB,CAA3C,CAAP;AACH;;AACuB,MAApB0F,oBAAoB,GAAG;AACvB,WAAO/J,KAAK,CAACmF,GAAN,CAAU,KAAKkD,IAAL,CAAU0B,oBAApB,EAA0CjL,CAAC,KAAK;AAAEkL,MAAAA,KAAK,EAAElL,CAAC,CAAC2H,QAAF,CAAWtB,GAAX,CAAerG,CAAC,IAAIA,CAAC,CAACuF,IAAtB,CAAT;AAAsCtD,MAAAA,KAAK,EAAEjC,CAAC,CAACyK;AAA/C,KAAL,CAA3C,CAAP;AACH;;AACY,MAATU,SAAS,GAAG;AACZ,WAAO,KAAK5B,IAAL,CAAU4B,SAAjB;AACH;;AACY,MAATA,SAAS,CAACA,SAAD,EAAY;AACrB,SAAK5B,IAAL,CAAU4B,SAAV,GAAsBA,SAAtB;AACH;;AACDC,EAAAA,oBAAoB,GAAG;AACnB,WAAO,KAAKC,iBAAL,CAAuB,KAAK1D,QAA5B,EAAsC,KAAtC,CAAP;AACH;;AACD0D,EAAAA,iBAAiB,CAAC1D,QAAD,EAAmC;AAAA,QAAxB2D,eAAwB,uEAAN,IAAM;;AAChD,SAAK,IAAIrM,CAAC,GAAG,CAAR,EAAWsM,CAAC,GAAG5D,QAAQ,CAACjJ,MAA7B,EAAqCO,CAAC,GAAGsM,CAAzC,EAA4CtM,CAAC,EAA7C,EAAiD;AAC7C,YAAM0E,OAAO,GAAGgE,QAAQ,CAAC1I,CAAD,CAAxB;;AACA,UAAI,CAAC0E,OAAO,CAAC7B,MAAb,EAAqB;AACjB,YAAI,CAAC6B,OAAO,CAACxB,OAAb,EAAsB;AAClB,iBAAO,KAAP;AACH,SAFD,MAGK;AACDmJ,UAAAA,eAAe,GAAG,IAAlB;AACH;AACJ;AACJ;;AACD,WAAOA,eAAP;AACH;;AACDE,EAAAA,eAAe,GAAG;AACd,QAAIC,KAAK,GAAG,CAAZ;AACA,UAAM9D,QAAQ,GAAG,KAAKA,QAAtB;;AACA,SAAK,IAAI1I,CAAC,GAAG,CAAR,EAAWsM,CAAC,GAAG5D,QAAQ,CAACjJ,MAA7B,EAAqCO,CAAC,GAAGsM,CAAzC,EAA4CtM,CAAC,EAA7C,EAAiD;AAC7C,UAAI0I,QAAQ,CAAC1I,CAAD,CAAR,CAAYkD,OAAhB,EAAyB;AACrBsJ,QAAAA,KAAK;AACR;AACJ;;AACD,WAAOA,KAAP;AACH;;AACDC,EAAAA,eAAe,GAAG;AACd,QAAID,KAAK,GAAG,CAAZ;AACA,UAAM9D,QAAQ,GAAG,KAAKA,QAAtB;;AACA,SAAK,IAAI1I,CAAC,GAAG,CAAR,EAAWsM,CAAC,GAAG5D,QAAQ,CAACjJ,MAA7B,EAAqCO,CAAC,GAAGsM,CAAzC,EAA4CtM,CAAC,EAA7C,EAAiD;AAC7C,UAAI,CAAC0I,QAAQ,CAAC1I,CAAD,CAAR,CAAY6C,MAAjB,EAAyB;AACrB2J,QAAAA,KAAK;AACR;AACJ;;AACD,WAAOA,KAAP;AACH;;AACDE,EAAAA,oBAAoB,CAACxJ,OAAD,EAAU;AAC1B,QAAI;AACA,WAAK8G,kBAAL,GAA0B,KAA1B;AACA,WAAKtB,QAAL,CAAciE,OAAd,CAAsBjI,OAAO,IAAI;AAC7B,YAAI,CAACA,OAAO,CAAC7B,MAAb,EAAqB;AACjB6B,UAAAA,OAAO,CAACxB,OAAR,GAAkBA,OAAlB;AACH;AACJ,OAJD;AAKH,KAPD,SAQQ;AACJ,WAAK8G,kBAAL,GAA0B,IAA1B;AACA,WAAK4C,iBAAL;AACH;AACJ;;AACDC,EAAAA,WAAW,CAACpE,aAAD,EAAgB;AACvB,SAAKwB,kBAAL,GAA0B7H,OAAO,CAAC,KAAK6H,kBAAN,CAAjC;;AACA,UAAMrC,mBAAmB,GAAI5E,KAAD,IAAW,KAAK4E,mBAAL,CAAyB5E,KAAzB,CAAvC;;AACA,SAAKyF,aAAL,GAAqBA,aAArB;AACA,SAAKC,QAAL,GAAgBD,aAAa,CAACqE,MAAd,CAAqB,CAAC7L,MAAD,EAASqF,IAAT,EAAeV,KAAf,KAAyB;AAC1D,UAAImH,EAAJ,EAAQC,EAAR,EAAYC,EAAZ;;AACA,UAAI3G,IAAI,CAAC9B,IAAL,KAAc,WAAlB,EAA+B;AAC3B,cAAM0I,QAAQ,GAAGtH,KAAK,IAAI6C,aAAa,CAAC7C,KAAK,GAAG,CAAT,CAAvC;AACA,cAAMe,SAAS,GAAGL,IAAI,CAACtC,KAAL,IAAcsC,IAAI,CAACtC,KAAL,CAAWmJ,OAAX,CAAmB,QAAnB,EAA6B,GAA7B,CAAhC;AACA,cAAMC,QAAQ,GAAG9G,IAAI,CAAC+G,IAAL,IAAa/G,IAAI,CAAC+G,IAAL,CAAUF,OAAV,CAAkB,QAAlB,EAA4B,GAA5B,CAA9B;AACA,cAAMhH,eAAe,GAAGG,IAAI,CAACgH,WAAL,IAAoBhH,IAAI,CAACgH,WAAL,CAAiBH,OAAjB,CAAyB,QAAzB,EAAmC,GAAnC,CAA5C;AACA,cAAMtG,UAAU,GAAGP,IAAI,CAACjB,MAAL,IAAeiB,IAAI,CAACjB,MAAL,CAAY8H,OAAZ,CAAoB,QAApB,EAA8B,GAA9B,CAAlC;AACA,cAAMI,aAAa,GAAGjH,IAAI,CAACkH,SAAL,IAAkB,CAAC7G,SAAD,EAAYR,eAAZ,EAA6BU,UAA7B,EACnCO,GADmC,CAC/BqG,CAAC,IAAI5L,mBAAmB,CAAC4L,CAAD,CADO,EAEnCC,MAFmC,CAE5BD,CAAC,IAAI,CAAC,CAACA,CAFqB,EAGnCE,IAHmC,CAG9B,IAH8B,CAAxC;AAIA1M,QAAAA,MAAM,CAACgD,IAAP,CAAY,IAAIvB,WAAJ,CAAgB;AACxBkD,UAAAA,KADwB;AAExBU,UAAAA,IAFwB;AAGxBK,UAAAA,SAHwB;AAIxByG,UAAAA,QAJwB;AAKxBG,UAAAA,aALwB;AAMxBpH,UAAAA,eANwB;AAOxBU,UAAAA,UAPwB;AAQxBhB,UAAAA,eAAe,EAAE,CAACkH,EAAE,GAAGzG,IAAI,CAACsH,UAAX,MAA2B,IAA3B,IAAmCb,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAAC/I,KARxD;AASxB8B,UAAAA,qBAAqB,EAAE,CAACkH,EAAE,GAAG1G,IAAI,CAACsH,UAAX,MAA2B,IAA3B,IAAmCZ,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACM,WAT9D;AAUxBvH,UAAAA,gBAAgB,EAAE,CAACkH,EAAE,GAAG3G,IAAI,CAACsH,UAAX,MAA2B,IAA3B,IAAmCX,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAAC5H,MAVzD;AAWxBnC,UAAAA,OAAO,EAAE,KAXe;AAYxBoC,UAAAA,SAAS,EAAE4H,QAAQ,IAAIA,QAAQ,CAAC1I,IAAT,KAAkB,WAA9B,GAA4C0I,QAA5C,GAAuDzF,SAZ1C;AAaxBG,UAAAA;AAbwB,SAAhB,CAAZ;AAeH;;AACD,aAAO3G,MAAP;AACH,KA7Be,EA6Bb,EA7Ba,CAAhB;AA8BA,SAAKgJ,kBAAL,CAAwBhG,IAAxB,CAA6B,GAAG,KAAKyE,QAArC;AACA,SAAKuB,kBAAL,CAAwBhG,IAAxB,CAA6B,GAAG,KAAKyE,QAAL,CAActB,GAAd,CAAkB1C,OAAO,IAAIA,OAAO,CAAC3B,SAAR,CAAkB,MAAM,KAAK6J,iBAAL,EAAxB,CAA7B,CAAhC;AACA,SAAKjE,iBAAL,GAAyB,KAAKD,QAAL,CAAcoE,MAAd,CAAqB,CAAC1F,GAAD,EAAM1C,OAAN,EAAekB,KAAf,KAAyB;AACnEwB,MAAAA,GAAG,CAACR,GAAJ,CAAQlC,OAAO,CAAC4B,IAAhB,EAAsBV,KAAtB;AACA,aAAOwB,GAAP;AACH,KAHwB,EAGtB,IAAIwB,GAAJ,EAHsB,CAAzB;AAIA,SAAK0B,IAAL,CAAUuD,MAAV,CAAiB,CAAjB,EAAoB,KAAKvD,IAAL,CAAU7K,MAA9B,EAxCuB,CAwCgB;;AACvC,SAAK6K,IAAL,CAAUuD,MAAV,CAAiB,CAAjB,EAAoB,KAAKvD,IAAL,CAAU7K,MAA9B,EAAsC,KAAKiJ,QAA3C;;AACA,SAAKY,sBAAL,CAA4BlG,IAA5B,CAAiC,KAAKsF,QAAL,CAAcjJ,MAA/C;AACH;;AACDqO,EAAAA,kBAAkB,GAAG;AACjB,WAAO,KAAKxD,IAAL,CAAUwD,kBAAV,GACF1G,GADE,CACErG,CAAC,IAAIA,CAAC,CAACuF,IADT,CAAP;AAEH;;AACDyH,EAAAA,kBAAkB,CAAC9B,KAAD,EAAQ;AACtB,SAAK3B,IAAL,CAAUa,QAAV,CAAmBc,KAAK,CACnByB,MADc,CACPpH,IAAI,IAAI,KAAKqC,iBAAL,CAAuBqF,GAAvB,CAA2B1H,IAA3B,CADD,EAEdc,GAFc,CAEVd,IAAI,IAAI,KAAKqC,iBAAL,CAAuBsF,GAAvB,CAA2B3H,IAA3B,CAFE,CAAnB;;AAGA,QAAI2F,KAAK,CAACxM,MAAN,GAAe,CAAnB,EAAsB;AAClB,YAAMyO,OAAO,GAAG,KAAK5D,IAAL,CAAUe,QAAV,GAAqB,CAArB,CAAhB;;AACA,UAAI,OAAO6C,OAAP,KAAmB,QAAvB,EAAiC;AAC7B,aAAK5D,IAAL,CAAU6D,MAAV,CAAiBD,OAAjB;AACH;AACJ;AACJ;;AACDE,EAAAA,mBAAmB,GAAG;AAClB,WAAO,KAAK9D,IAAL,CAAUO,cAAV,GAA2BwD,YAA3B,CAAwC,uBAAxC,CAAP;AACH;;AACDC,EAAAA,mBAAmB,CAACrC,KAAD,EAAQ;AACvB,SAAK3B,IAAL,CAAUwB,YAAV,CAAuBG,KAAK,CACvByB,MADkB,CACXpH,IAAI,IAAI,KAAKqC,iBAAL,CAAuBqF,GAAvB,CAA2B1H,IAA3B,CADG,EAElBc,GAFkB,CAEdd,IAAI,IAAI,KAAKqC,iBAAL,CAAuBsF,GAAvB,CAA2B3H,IAA3B,CAFM,CAAvB;AAGH;;AACDiI,EAAAA,kBAAkB,GAAG;AACjB,WAAO,KAAK7F,QAAL,CAAcgF,MAAd,CAAqB3M,CAAC,IAAIA,CAAC,CAACmC,OAA5B,EACFkE,GADE,CACErG,CAAC,IAAIA,CAAC,CAACuF,IADT,CAAP;AAEH;;AACDkI,EAAAA,kBAAkB,CAACvC,KAAD,EAAQ;AACtB,QAAI;AACA,WAAKjC,kBAAL,GAA0B,KAA1B;AACA,YAAM9G,OAAO,GAAG,IAAIuL,GAAJ,EAAhB;;AACA,WAAK,MAAMnI,IAAX,IAAmB2F,KAAnB,EAA0B;AACtB/I,QAAAA,OAAO,CAACwC,GAAR,CAAYY,IAAZ;AACH;;AACD,WAAK,MAAM5B,OAAX,IAAsB,KAAKgE,QAA3B,EAAqC;AACjChE,QAAAA,OAAO,CAACxB,OAAR,GAAkBA,OAAO,CAAC8K,GAAR,CAAYtJ,OAAO,CAAC4B,IAApB,CAAlB;AACH;AACJ,KATD,SAUQ;AACJ,WAAK0D,kBAAL,GAA0B,IAA1B;AACA,WAAK4C,iBAAL;AACH;AACJ;;AACU,MAAP8B,OAAO,CAAClO,KAAD,EAAQ;AACf,SAAK8J,IAAL,CAAUO,cAAV,GAA2B9D,KAA3B,CAAiC4H,aAAjC,GAAiDnO,KAAK,GAAG,EAAH,GAAQ,MAA9D;AACH;;AACDoO,EAAAA,KAAK,CAACC,IAAD,EAAO;AACR,QAAI,CAAC,KAAKvE,IAAL,CAAU7K,MAAf,EAAuB;AACnB;AACH;;AACD,QAAIoP,IAAI,KAAKxG,mBAAmB,CAACyG,IAA7B,IAAqC,KAAKxE,IAAL,CAAUe,QAAV,GAAqB,CAArB,MAA4B,KAAKf,IAAL,CAAU7K,MAAV,GAAmB,CAAxF,EAA2F;AACvFoP,MAAAA,IAAI,GAAGxG,mBAAmB,CAAC0G,KAA3B;AACH;;AACD,QAAIF,IAAI,KAAKxG,mBAAmB,CAAC2G,QAA7B,IAAyC,KAAK1E,IAAL,CAAUe,QAAV,GAAqB,CAArB,MAA4B,CAAzE,EAA4E;AACxEwD,MAAAA,IAAI,GAAGxG,mBAAmB,CAAC4G,IAA3B;AACH;;AACD,QAAIJ,IAAI,KAAKxG,mBAAmB,CAAC6G,MAA7B,IAAuC,KAAK5E,IAAL,CAAU7K,MAAV,GAAmB,CAA9D,EAAiE;AAC7DoP,MAAAA,IAAI,GAAGxG,mBAAmB,CAAC0G,KAA3B;AACH;;AACD,YAAQF,IAAR;AACI,WAAKxG,mBAAmB,CAAC0G,KAAzB;AACI,aAAKzE,IAAL,CAAU6E,UAAV;AACA;;AACJ,WAAK9G,mBAAmB,CAAC6G,MAAzB;AACI,aAAK5E,IAAL,CAAU8E,QAAV,CAAmB,CAAnB;AACA;;AACJ,WAAK/G,mBAAmB,CAAC4G,IAAzB;AACI,aAAK3E,IAAL,CAAU+E,SAAV;AACA;;AACJ,WAAKhH,mBAAmB,CAACyG,IAAzB;AACI,aAAKxE,IAAL,CAAUgF,SAAV;AACA;;AACJ,WAAKjH,mBAAmB,CAAC2G,QAAzB;AACI,aAAK1E,IAAL,CAAUiF,aAAV;AACA;;AACJ,WAAKlH,mBAAmB,CAACmH,QAAzB;AACI,aAAKlF,IAAL,CAAUmF,aAAV;AACA;;AACJ,WAAKpH,mBAAmB,CAACqH,YAAzB;AACI,aAAKpF,IAAL,CAAUqF,iBAAV;AACA;AArBR;;AAuBA,UAAMzB,OAAO,GAAG,KAAK5D,IAAL,CAAUe,QAAV,GAAqB,CAArB,CAAhB;;AACA,QAAI,OAAO6C,OAAP,KAAmB,QAAvB,EAAiC;AAC7B,WAAK5D,IAAL,CAAU6D,MAAV,CAAiBD,OAAjB;AACH;AACJ;;AACD0B,EAAAA,UAAU,GAAG;AACT,SAAKtF,IAAL,CAAUa,QAAV,CAAmB,EAAnB;AACH;;AACD0E,EAAAA,QAAQ,GAAG;AACP,SAAKvF,IAAL,CAAUuF,QAAV;AACH;;AACDC,EAAAA,MAAM,CAACC,SAAD,EAAY;AACd,SAAKzF,IAAL,CAAUO,cAAV,GAA2B9D,KAA3B,CAAiCgJ,SAAjC,GAA6CA,SAAS,GAAI,QAAOC,IAAI,CAACC,KAAL,CAAWF,SAAS,GAAG,EAAvB,IAA6B,EAAG,KAA3C,GAAkD,EAAxG;AACA,SAAKzF,IAAL,CAAUwF,MAAV;AACH;;AACDpC,EAAAA,MAAM,CAACwC,KAAD,EAAQ;AACV,QAAI,EAAE,KAAKjH,WAAL,IAAoB,KAAKF,YAAzB,IAAyC,KAAKF,kBAA9C,IAAoE,KAAKC,aAA3E,CAAJ,EAA+F;AAC3F,WAAKwB,IAAL,CAAUwF,MAAV;AACA,aAAO,KAAP;AACH;;AACDI,IAAAA,KAAK,GAAGA,KAAK,CAACC,IAAN,EAAR,CALU,CAMV;;AACA,QAAI,CAACD,KAAD,IAAU,EAAE,KAAKnH,YAAL,IAAqB,KAAKF,kBAA1B,IAAgD,KAAKC,aAAvD,CAAd,EAAqF;AACjF,WAAKJ,QAAL,CAAciE,OAAd,CAAsBjI,OAAO,IAAI;AAC7BA,QAAAA,OAAO,CAACmB,eAAR,GAA0B4B,SAA1B;AACA/C,QAAAA,OAAO,CAACoB,qBAAR,GAAgC2B,SAAhC;AACA/C,QAAAA,OAAO,CAACqB,gBAAR,GAA2B0B,SAA3B;AACA/C,QAAAA,OAAO,CAAC7B,MAAR,GAAiB,KAAjB;AACA,cAAMqK,QAAQ,GAAGxI,OAAO,CAACkB,KAAR,IAAiB,KAAK6C,aAAL,CAAmB/D,OAAO,CAACkB,KAAR,GAAgB,CAAnC,CAAlC;AACAlB,QAAAA,OAAO,CAACY,SAAR,GAAoB4H,QAAQ,IAAIA,QAAQ,CAAC1I,IAAT,KAAkB,WAA9B,GAA4C0I,QAA5C,GAAuDzF,SAA3E;AACH,OAPD;AAQH,KATD,CAUA;AAVA,SAWK;AACD,UAAI2I,gBAAJ;AACA,WAAK1H,QAAL,CAAciE,OAAd,CAAsBjI,OAAO,IAAI;AAC7B,cAAMmB,eAAe,GAAG,KAAKkD,YAAL,GAAoBzG,mBAAmB,CAACJ,qBAAqB,CAACgO,KAAD,EAAQ/N,mBAAmB,CAACuC,OAAO,CAACiC,SAAT,CAA3B,CAAtB,CAAvC,GAAgHc,SAAxI;AACA,cAAM3B,qBAAqB,GAAG,KAAK+C,kBAAL,GAA0BvG,mBAAmB,CAACJ,qBAAqB,CAACgO,KAAD,EAAQ/N,mBAAmB,CAACuC,OAAO,CAACyB,eAAR,IAA2B,EAA5B,CAA3B,CAAtB,CAA7C,GAAkIsB,SAAhK;AACA,cAAM1B,gBAAgB,GAAG,KAAK+C,aAAL,GAAqBxG,mBAAmB,CAACJ,qBAAqB,CAACgO,KAAD,EAAQ/N,mBAAmB,CAACuC,OAAO,CAACmC,UAAR,IAAsB,EAAvB,CAA3B,CAAtB,CAAxC,GAAwHY,SAAjJ;AACA,cAAM4I,cAAc,GAAG,KAAKrH,WAAL,GAAmB1G,mBAAmB,CAACJ,qBAAqB,CAACgO,KAAD,EAAQ/N,mBAAmB,CAACuC,OAAO,CAAC0I,QAAR,IAAoB,EAArB,CAA3B,CAAtB,CAAtC,GAAoH3F,SAA3I;;AACA,YAAI5B,eAAe,IAAIC,qBAAnB,IAA4CC,gBAA5C,IAAgEsK,cAApE,EAAoF;AAChF3L,UAAAA,OAAO,CAACmB,eAAR,GAA0BA,eAA1B;AACAnB,UAAAA,OAAO,CAACoB,qBAAR,GAAgCA,qBAAhC;AACApB,UAAAA,OAAO,CAACqB,gBAAR,GAA2BA,gBAA3B;AACArB,UAAAA,OAAO,CAAC7B,MAAR,GAAiB,KAAjB;AACH,SALD,MAMK;AACD6B,UAAAA,OAAO,CAACmB,eAAR,GAA0B4B,SAA1B;AACA/C,UAAAA,OAAO,CAACoB,qBAAR,GAAgC2B,SAAhC;AACA/C,UAAAA,OAAO,CAACqB,gBAAR,GAA2B0B,SAA3B;AACA/C,UAAAA,OAAO,CAAC7B,MAAR,GAAiB,CAAC6B,OAAO,CAAC4B,IAAR,CAAagK,UAA/B;AACH;;AACD5L,QAAAA,OAAO,CAACY,SAAR,GAAoBmC,SAApB,CAjB6B,CAkB7B;;AACA,YAAI,CAAC,KAAKwB,WAAV,EAAuB;AACnB,gBAAMiE,QAAQ,GAAGxI,OAAO,CAACkB,KAAR,IAAiB,KAAK6C,aAAL,CAAmB/D,OAAO,CAACkB,KAAR,GAAgB,CAAnC,CAAlC;AACAwK,UAAAA,gBAAgB,GAAGlD,QAAQ,IAAIA,QAAQ,CAAC1I,IAAT,KAAkB,WAA9B,GAA4C0I,QAA5C,GAAuDkD,gBAA1E;;AACA,cAAIA,gBAAgB,IAAI,CAAC1L,OAAO,CAAC7B,MAAjC,EAAyC;AACrC6B,YAAAA,OAAO,CAACY,SAAR,GAAoB8K,gBAApB;AACAA,YAAAA,gBAAgB,GAAG3I,SAAnB;AACH;AACJ;AACJ,OA3BD;AA4BH;;AACD,UAAM8I,aAAa,GAAG,KAAK7H,QAAL,CAAcgF,MAAd,CAAqBhJ,OAAO,IAAI,CAACA,OAAO,CAAC7B,MAAzC,CAAtB,CAjDU,CAkDV;;AACA,QAAI,KAAKoG,WAAL,IAAoBiH,KAAxB,EAA+B;AAC3B,YAAMM,qBAAqB,GAAGN,KAAK,CAACO,WAAN,EAA9B;AACAF,MAAAA,aAAa,CAACG,IAAd,CAAmB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACzB,eAAOC,cAAc,CAACF,CAAD,EAAIC,CAAJ,EAAOJ,qBAAP,CAArB;AACH,OAFD;AAGH;;AACD,SAAK7H,iBAAL,GAAyB4H,aAAa,CAACzD,MAAd,CAAqB,CAAC1F,GAAD,EAAM1C,OAAN,EAAekB,KAAf,KAAyB;AACnEwB,MAAAA,GAAG,CAACR,GAAJ,CAAQlC,OAAO,CAAC4B,IAAhB,EAAsBV,KAAtB;AACA,aAAOwB,GAAP;AACH,KAHwB,EAGtB,IAAIwB,GAAJ,EAHsB,CAAzB;AAIA,SAAK0B,IAAL,CAAUuD,MAAV,CAAiB,CAAjB,EAAoB,KAAKvD,IAAL,CAAU7K,MAA9B,EAAsC8Q,aAAtC;AACA,SAAKjG,IAAL,CAAUa,QAAV,CAAmB,EAAnB;AACA,SAAKb,IAAL,CAAUwF,MAAV;;AACA,SAAK5G,2BAAL,CAAiC9F,IAAjC,CAAsC,KAAK+I,oBAAL,EAAtC;;AACA,SAAK7C,sBAAL,CAA4BlG,IAA5B,CAAiCmN,aAAa,CAAC9Q,MAA/C;;AACA,WAAO,IAAP;AACH;;AACDsL,EAAAA,cAAc,GAAG;AACb,QAAI;AACA,WAAKf,kBAAL,GAA0B,KAA1B;AACA,YAAMtB,QAAQ,GAAG,KAAK4B,IAAL,CAAUwD,kBAAV,EAAjB;AACA,YAAMgD,UAAU,GAAG,KAAK1E,iBAAL,CAAuB1D,QAAvB,CAAnB;;AACA,WAAK,MAAMhE,OAAX,IAAsBgE,QAAtB,EAAgC;AAC5BhE,QAAAA,OAAO,CAACxB,OAAR,GAAkB,CAAC4N,UAAnB;AACH;AACJ,KAPD,SAQQ;AACJ,WAAK9G,kBAAL,GAA0B,IAA1B;AACA,WAAK4C,iBAAL;AACH;AACJ;;AACD5F,EAAAA,OAAO,CAACA,OAAD,EAAU;AACb,SAAKvD,SAAL,CAAesD,KAAf,CAAqBC,OAArB,GAA+BA,OAAO,GAAG,EAAH,GAAQ,MAA9C;AACH;;AACD+J,EAAAA,WAAW,GAAG;AACV,WAAO,KAAKtN,SAAL,CAAesD,KAAf,CAAqBC,OAArB,KAAiC,MAAxC;AACH;;AACD5E,EAAAA,OAAO,GAAG;AACN,SAAK6H,kBAAL,GAA0B7H,OAAO,CAAC,KAAK6H,kBAAN,CAAjC;AACA,SAAKC,WAAL,GAAmB9H,OAAO,CAAC,KAAK8H,WAAN,CAA1B;AACH;;AACD0C,EAAAA,iBAAiB,GAAG;AAChB,QAAI,KAAK5C,kBAAT,EAA6B;AACzB,WAAKd,2BAAL,CAAiC9F,IAAjC,CAAsC,KAAK+I,oBAAL,EAAtC;;AACA,WAAK/C,sBAAL,CAA4BhG,IAA5B,CAAiC,KAAKmJ,eAAL,EAAjC;;AACA,WAAK/C,yBAAL,CAA+BpG,IAA/B,CAAoC,KAAKmL,kBAAL,EAApC;AACH;AACJ;;AACD3G,EAAAA,mBAAmB,CAAC5E,KAAD,EAAQ;AACvB,SAAK0G,kBAAL,CAAwBtG,IAAxB,CAA6BJ,KAA7B;AACH;;AACD+D,EAAAA,KAAK,CAACiK,MAAD,EAAS;AACV,SAAK1G,IAAL,CAAUvD,KAAV,CAAgBiK,MAAhB;AACH;;AAlZuB;;AAoZ5B9R,UAAU,CAAC,CACP6C,OADO,CAAD,EAEPuG,cAAc,CAAC2I,SAFR,EAEmB,kBAFnB,EAEuC,IAFvC,CAAV;;AAGA/R,UAAU,CAAC,CACP6C,OADO,CAAD,EAEPuG,cAAc,CAAC2I,SAFR,EAEmB,sBAFnB,EAE2C,IAF3C,CAAV;;AAGA,SAASJ,cAAT,CAAwBK,QAAxB,EAAkCC,QAAlC,EAA4CC,OAA5C,EAAqD;AACjD,QAAMC,gBAAgB,GAAGH,QAAQ,CAACrL,eAAT,IAA4B,EAArD;AACA,QAAMyL,gBAAgB,GAAGH,QAAQ,CAACtL,eAAT,IAA4B,EAArD;;AACA,MAAIwL,gBAAgB,CAAC5R,MAAjB,IAA2B,CAAC6R,gBAAgB,CAAC7R,MAAjD,EAAyD;AACrD,WAAO,CAAC,CAAR;AACH;;AACD,MAAI,CAAC4R,gBAAgB,CAAC5R,MAAlB,IAA4B6R,gBAAgB,CAAC7R,MAAjD,EAAyD;AACrD,WAAO,CAAP;AACH;;AACD,MAAI4R,gBAAgB,CAAC5R,MAAjB,KAA4B,CAA5B,IAAiC6R,gBAAgB,CAAC7R,MAAjB,KAA4B,CAAjE,EAAoE;AAChE,WAAO,CAAP;AACH;;AACD,SAAOqC,eAAe,CAACoP,QAAQ,CAACvK,SAAV,EAAqBwK,QAAQ,CAACxK,SAA9B,EAAyCyK,OAAzC,CAAtB;AACH;;AACD,MAAM/G,+BAAN,CAAsC;AAClCkH,EAAAA,kBAAkB,GAAG;AACjB,WAAO/O,QAAQ,CAAC,YAAD,EAAe,aAAf,CAAf;AACH;;AACDgP,EAAAA,YAAY,CAAC9M,OAAD,EAAU;AAClB,WAAOA,OAAO,CAAC6I,aAAf;AACH;;AACDkE,EAAAA,aAAa,GAAG;AACZ,WAAO,SAAP;AACH;;AACDC,EAAAA,OAAO,GAAG;AACN,WAAO,QAAP;AACH;;AAZiC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\nimport { Action } from '../../../common/actions.js';\nimport { range } from '../../../common/arrays.js';\nimport { getCodiconAriaLabel } from '../../../common/codicons.js';\nimport { compareAnything } from '../../../common/comparers.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { matchesFuzzyIconAware, parseLabelWithIcons } from '../../../common/iconLabels.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { withNullAsUndefined } from '../../../common/types.js';\nimport { getIconClass } from './quickInputUtils.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nclass ListElement {\n    constructor(init) {\n        this.hidden = false;\n        this._onChecked = new Emitter();\n        this.onChecked = this._onChecked.event;\n        Object.assign(this, init);\n    }\n    get checked() {\n        return !!this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire(value);\n        }\n    }\n    dispose() {\n        this._onChecked.dispose();\n    }\n}\nclass ListElementRenderer {\n    get templateId() {\n        return ListElementRenderer.ID;\n    }\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = [];\n        data.toDisposeTemplate = [];\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true });\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new HighlightedLabel(detailContainer, true);\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.push(data.actionBar);\n        return data;\n    }\n    renderElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.element = element;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Label\n        const options = Object.create(null);\n        options.matches = labelHighlights || [];\n        options.descriptionTitle = element.saneDescription;\n        options.descriptionMatches = descriptionHighlights || [];\n        options.extraClasses = element.item.iconClasses;\n        options.italic = element.item.italic;\n        options.strikethrough = element.item.strikethrough;\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(element.item.keybinding);\n        // Meta\n        data.detail.set(element.saneDetail, detailHighlights);\n        // Separator\n        if (element.separator && element.separator.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        data.actionBar.clear();\n        const buttons = element.item.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => {\n                let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n                if (button.alwaysVisible) {\n                    cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n                }\n                const action = new Action(`id-${index}`, '', cssClasses, true, () => __awaiter(this, void 0, void 0, function* () {\n                    element.fireButtonTriggered({\n                        button,\n                        item: element.item\n                    });\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n    }\n}\nListElementRenderer.ID = 'listelement';\nclass ListElementDelegate {\n    getHeight(element) {\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        return ListElementRenderer.ID;\n    }\n}\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nexport class QuickInputList {\n    constructor(parent, id, options) {\n        this.parent = parent;\n        this.inputElements = [];\n        this.elements = [];\n        this.elementsToIndexes = new Map();\n        this.matchOnDescription = false;\n        this.matchOnDetail = false;\n        this.matchOnLabel = true;\n        this.matchOnMeta = true;\n        this.sortByLabel = true;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onKeyDown = new Emitter();\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        this.onLeave = this._onLeave.event;\n        this._fireCheckedEvents = true;\n        this.elementDisposables = [];\n        this.disposables = [];\n        this.id = id;\n        this.container = dom.append(this.parent, $('.quick-input-list'));\n        const delegate = new ListElementDelegate();\n        const accessibilityProvider = new QuickInputAccessibilityProvider();\n        this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\n            identityProvider: { getId: element => element.saneLabel },\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            horizontalScrolling: false,\n            accessibilityProvider\n        });\n        this.list.getHTMLElement().id = id;\n        this.disposables.push(this.list);\n        this.disposables.push(this.list.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyA */:\n                    if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this.list.setFocus(range(this.list.length));\n                    }\n                    break;\n                case 16 /* UpArrow */:\n                    const focus1 = this.list.getFocus();\n                    if (focus1.length === 1 && focus1[0] === 0) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                case 18 /* DownArrow */:\n                    const focus2 = this.list.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n                        this._onLeave.fire();\n                    }\n                    break;\n            }\n            this._onKeyDown.fire(event);\n        }));\n        this.disposables.push(this.list.onMouseDown(e => {\n            if (e.browserEvent.button !== 2) {\n                // Works around / fixes #64350.\n                e.browserEvent.preventDefault();\n            }\n        }));\n        this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n        this.disposables.push(this.list.onMouseMiddleClick(e => {\n            this._onLeave.fire();\n        }));\n        this.disposables.push(this.list.onContextMenu(e => {\n            if (typeof e.index === 'number') {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this.list.setSelection([e.index]);\n            }\n        }));\n        this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onLeave, this._onKeyDown);\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, e => ({ items: e.elements.map(e => e.item), event: e.browserEvent }));\n    }\n    get scrollTop() {\n        return this.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.list.scrollTop = scrollTop;\n    }\n    getAllVisibleChecked() {\n        return this.allVisibleChecked(this.elements, false);\n    }\n    allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    getCheckedCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (elements[i].checked) {\n                count++;\n            }\n        }\n        return count;\n    }\n    getVisibleCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (!elements[i].hidden) {\n                count++;\n            }\n        }\n        return count;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._fireCheckedEvents = false;\n            this.elements.forEach(element => {\n                if (!element.hidden) {\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this.elementDisposables = dispose(this.elementDisposables);\n        const fireButtonTriggered = (event) => this.fireButtonTriggered(event);\n        this.inputElements = inputElements;\n        this.elements = inputElements.reduce((result, item, index) => {\n            var _a, _b, _c;\n            if (item.type !== 'separator') {\n                const previous = index && inputElements[index - 1];\n                const saneLabel = item.label && item.label.replace(/\\r?\\n/g, ' ');\n                const saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\n                const saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\n                const saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\n                const saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail]\n                    .map(s => getCodiconAriaLabel(s))\n                    .filter(s => !!s)\n                    .join(', ');\n                result.push(new ListElement({\n                    index,\n                    item,\n                    saneLabel,\n                    saneMeta,\n                    saneAriaLabel,\n                    saneDescription,\n                    saneDetail,\n                    labelHighlights: (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label,\n                    descriptionHighlights: (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description,\n                    detailHighlights: (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail,\n                    checked: false,\n                    separator: previous && previous.type === 'separator' ? previous : undefined,\n                    fireButtonTriggered\n                }));\n            }\n            return result;\n        }, []);\n        this.elementDisposables.push(...this.elements);\n        this.elementDisposables.push(...this.elements.map(element => element.onChecked(() => this.fireCheckedEvents())));\n        this.elementsToIndexes = this.elements.reduce((map, element, index) => {\n            map.set(element.item, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n        this.list.splice(0, this.list.length, this.elements);\n        this._onChangedVisibleCount.fire(this.elements.length);\n    }\n    getFocusedElements() {\n        return this.list.getFocusedElements()\n            .map(e => e.item);\n    }\n    setFocusedElements(items) {\n        this.list.setFocus(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n        if (items.length > 0) {\n            const focused = this.list.getFocus()[0];\n            if (typeof focused === 'number') {\n                this.list.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        this.list.setSelection(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n    }\n    getCheckedElements() {\n        return this.elements.filter(e => e.checked)\n            .map(e => e.item);\n    }\n    setCheckedElements(items) {\n        try {\n            this._fireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this.elements) {\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    set enabled(value) {\n        this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    focus(what) {\n        if (!this.list.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Next && this.list.getFocus()[0] === this.list.length - 1) {\n            what = QuickInputListFocus.First;\n        }\n        if (what === QuickInputListFocus.Previous && this.list.getFocus()[0] === 0) {\n            what = QuickInputListFocus.Last;\n        }\n        if (what === QuickInputListFocus.Second && this.list.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this.list.focusFirst();\n                break;\n            case QuickInputListFocus.Second:\n                this.list.focusNth(1);\n                break;\n            case QuickInputListFocus.Last:\n                this.list.focusLast();\n                break;\n            case QuickInputListFocus.Next:\n                this.list.focusNext();\n                break;\n            case QuickInputListFocus.Previous:\n                this.list.focusPrevious();\n                break;\n            case QuickInputListFocus.NextPage:\n                this.list.focusNextPage();\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this.list.focusPreviousPage();\n                break;\n        }\n        const focused = this.list.getFocus()[0];\n        if (typeof focused === 'number') {\n            this.list.reveal(focused);\n        }\n    }\n    clearFocus() {\n        this.list.setFocus([]);\n    }\n    domFocus() {\n        this.list.domFocus();\n    }\n    layout(maxHeight) {\n        this.list.getHTMLElement().style.maxHeight = maxHeight ? `calc(${Math.floor(maxHeight / 44) * 44}px)` : '';\n        this.list.layout();\n    }\n    filter(query) {\n        if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.list.layout();\n            return false;\n        }\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.elements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this.inputElements[element.index - 1];\n                element.separator = previous && previous.type === 'separator' ? previous : undefined;\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this.elements.forEach(element => {\n                const labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n                const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n                const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n                const metaHighlights = this.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = !element.item.alwaysShow;\n                }\n                element.separator = undefined;\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this.inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this.elements.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n            map.set(element.item, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length, shownElements);\n        this.list.setFocus([]);\n        this.list.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._fireCheckedEvents = false;\n            const elements = this.list.getFocusedElements();\n            const allChecked = this.allVisibleChecked(elements);\n            for (const element of elements) {\n                element.checked = !allChecked;\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this.container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this.container.style.display !== 'none';\n    }\n    dispose() {\n        this.elementDisposables = dispose(this.elementDisposables);\n        this.disposables = dispose(this.disposables);\n    }\n    fireCheckedEvents() {\n        if (this._fireCheckedEvents) {\n            this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n            this._onChangedCheckedCount.fire(this.getCheckedCount());\n            this._onChangedCheckedElements.fire(this.getCheckedElements());\n        }\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n}\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeSelection\", null);\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneLabel, elementB.saneLabel, lookFor);\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        return element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole() {\n        return 'option';\n    }\n}\n"]},"metadata":{},"sourceType":"module"}